---
import ShoelaceLayout from '../layouts/ShoelaceLayout.astro';
---
<ShoelaceLayout title="Signals â€º WebApp">
  <h1>Signals</h1>
  <div class="controls">
    <camera-control-hpr angles="[90,30,0]"></camera-control-hpr>
    <camera-control-position coord="[45,6,500]"></camera-control-position>
  </div>
</ShoelaceLayout>

<style>
  body {
    margin: 0 1rem;
  }
  .controls {
    display: flex;
    flex-direction: row;
    gap: 1rem;
    height: 15rem;
    width: 80%;
  }
  camera-control-hpr,
  camera-control-position {
    background-color: aliceblue;
    padding: 1rem;
    width: 50%;
  }
</style>

<script>
  import "../components/CameraControlHPR.js";
  import "../components/CameraControlPosition.js";

  const cameraControlHPR = document.querySelector("camera-control-hpr");
  cameraControlHPR?.addEventListener("angles-changed", (e) => {
    console.log(`HPR angles changed to [${e.detail.join(",")}]`);
  });

  const cameraControlPosition = document.querySelector("camera-control-position");
  cameraControlPosition?.addEventListener("coord-changed", (e) => {
    console.log(`Position coordinates changed to [${e.detail.join(",")}]`);
  });
</script>
